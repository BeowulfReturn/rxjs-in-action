{"version":3,"file":"runtime.js","sources":["utils/url.js","utils/tag.js","initial.js","console.js","editors.js","runtime.js"],"sourcesContent":["/**\r\n *  RxJS in action\r\n *  Chapter #\r\n *  @author Paul Daniels\r\n *  @author Luis Atencio\r\n */\r\nexport function getUrlParams(url) {\r\n  let match,\r\n    pl     = /\\+/g,  // Regex for replacing addition symbol with a space\r\n    search = /([^&=]+)=?([^&]*)/g,\r\n    decode = function (s) { return decodeURIComponent(s.replace(pl, \" \")); },\r\n    query  = url.substring(1);\r\n\r\n  const urlParams = {};\r\n  while (match = search.exec(query))\r\n    urlParams[decode(match[1])] = decode(match[2]);\r\n\r\n  return urlParams;\r\n}","/**\r\n *  RxJS in action\r\n *  Chapter #\r\n *  @author Paul Daniels\r\n *  @author Luis Atencio\r\n */\r\nexport function buildTag(tagName, options, transform = x => x) {\r\n  return (source) => {\r\n    const attrs = [];\r\n    for (let k in options) {\r\n      options.hasOwnProperty(k) && attrs.push(`${k}=${options[k]}`);\r\n    }\r\n\r\n    return `<${tagName} ${attrs.join(' ')}>${transform(source)}</${tagName}>`;\r\n  };\r\n}","/**\r\n *  RxJS in action\r\n *  Chapter #\r\n *  @author Paul Daniels\r\n *  @author Luis Atencio\r\n */\r\nexport const defaultHtml =\r\n  `\r\n<!DOCTYPE html>\r\n<html>\r\n  <head>\r\n    <meta charset=\"utf-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width\">\r\n    <title>RxJS in Action</title>\r\n  </head>\r\n  <body></body>\r\n</html>\r\n`.trim();","/**\r\n *  RxJS in action\r\n *  Chapter #\r\n *  @author Paul Daniels\r\n *  @author Luis Atencio\r\n */\r\nexport function consoleProxy(console = window.console) {\r\n  if(console && console.log) {\r\n    //Set up iframe for redirection\r\n    let iframe = parent.document.getElementById('console');\r\n    let consoleFrame = iframe.contentWindow || iframe.contentDocument;\r\n    if (consoleFrame.document) consoleFrame = consoleFrame.document;\r\n    let write = (frame => {\r\n      return content => {\r\n        frame.open();\r\n        frame.write(content);\r\n        frame.close();\r\n      };\r\n    })(consoleFrame);\r\n    write(''); // clear contents on change\r\n\r\n    window.console = {\r\n      log: (val) => {\r\n        let previous = consoleFrame.body.innerHTML || '';\r\n        write(previous.trim() + \"<br />\" + val);\r\n      },\r\n      warn: (val) => {\r\n        let previous = consoleFrame.body.innerHTML || '';\r\n        write(previous.trim() + \"<br />\" + val);\r\n      },\r\n      error: (val) => {\r\n        let previous = consoleFrame.body.innerHTML || '';\r\n        write(previous.trim() + \"<br />\" + val);\r\n      }\r\n    };\r\n  }\r\n}","/**\r\n *  RxJS in action\r\n *  Chapter #\r\n *  @author Paul Daniels\r\n *  @author Luis Atencio\r\n */\r\n'use strict';\r\n\r\nimport {getUrlParams} from './utils/url';\r\nimport {buildTag} from \"./utils/tag\";\r\nimport {defaultHtml} from \"./initial\";\r\nimport {consoleProxy} from \"./console\";\r\n\r\nRx.Observable.of('css', 'html', 'javascript')\r\n  .flatMap(\r\n    tag => Rx.Observable.fromEvent(document.getElementById('show-' + tag), 'click'),\r\n    (tag, value) => ({tag, el: value.target}))\r\n  .subscribe(({el, tag}) => {\r\n    const {classList, id} = el;\r\n\r\n    classList.toggle('btn-primary');\r\n    classList.toggle('btn-default');\r\n    classList.toggle('active');\r\n\r\n    document.getElementById(tag + '-container').classList.toggle('hidden');\r\n  });\r\n\r\n// Builds a new code editor on the page\r\nconst jsEditor = CodeMirror.fromTextArea(document.getElementById('javascript'), {\r\n  mode: \"javascript\",\r\n  theme: 'dracula',\r\n  lineNumbers: true,\r\n  readOnly: false,\r\n  value: 'Test'\r\n});\r\n\r\nconst htmlEditor = CodeMirror.fromTextArea(document.getElementById('html'), {\r\n  mode: 'htmlmixed',\r\n  theme: 'dracula',\r\n  lineNumbers: true,\r\n});\r\n\r\nhtmlEditor.setValue(defaultHtml);\r\n\r\nconst cssEditor = CodeMirror.fromTextArea(document.getElementById('css'), {\r\n  mode: 'css',\r\n  theme: 'dracula',\r\n  lineNumbers: true\r\n});\r\n\r\nconst exampleSelector = document.getElementById('example-change');\r\n\r\nconst urlParams = getUrlParams(window.location.search);\r\n\r\nRx.Observable.from(exampleSelector.getElementsByTagName('option'))\r\n  .filter(({value}) => value === urlParams['example'])\r\n  .take(1)\r\n  .subscribe(x => x.selected = 'selected');\r\n\r\nconst startWithIfPresent = (url, key) => source =>\r\n  url[key] ? source.startWith(url[key]) : source;\r\n\r\nRx.Observable.fromEvent(\r\n  exampleSelector,\r\n  'change',\r\n  (e) => e.target.value\r\n)\r\n  .let(startWithIfPresent(urlParams, 'example'))\r\n  .map((e) => e.split('.')) // Split the chapter and id\r\n  .filter(value => value.length === 2) // Sanity check\r\n  .flatMap(([chapter, id]) => {\r\n    return $.getJSON(`/rest/api/example/${chapter}/${id}`);\r\n  })\r\n  .subscribe(({js, css, html}) => {\r\n    js && jsEditor.setValue(js);\r\n    css && cssEditor.setValue(css);\r\n    html && htmlEditor.setValue(html);\r\n  });\r\n\r\nconst onCodeChange = (tag) => () => {\r\n  console.log(tag, '[UPDATE]: CODE CHANGE', Date.now());\r\n};\r\n\r\nconst html$ = Rx.Observable.fromEvent(htmlEditor.doc, 'change',\r\n  (instance, change) => instance.getValue())\r\n  .do(onCodeChange('html'))\r\n  .startWith(defaultHtml)\r\n  .debounceTime(1000);\r\n\r\n// Babel compiler options\r\nconst compile$ = Rx.Observable.of({\r\n  presets: ['es2015'],\r\n  // TODO Compile this separately and load independently\r\n  plugins: [\r\n    [\"transform-object-rest-spread\", {\"useBuiltIns\": true}]\r\n  ]\r\n});\r\n\r\nconst js$ = Rx.Observable.fromEvent(jsEditor, 'change',\r\n  (instance, change) => instance.getValue())\r\n  .do(onCodeChange('js'))\r\n  .startWith('console.log(\"Welcome to RxJS in Action Code!\")')\r\n  .debounceTime(1000)\r\n  .do(() => console.log('Compiling...'))\r\n  .combineLatest(compile$, (code, opts) => {\r\n    try {\r\n      return Babel.transform(code, opts).code\r\n    } catch (e) {\r\n      console.warn('Problem compiling the code', e);\r\n      //FIXME Probably should not be returning code that babel doesn't even know how to compile\r\n      return code;\r\n    }\r\n  })\r\n  .map(buildTag('script', {type: 'application/javascript'}, function (code) {\r\n    //Naive way of preventing this from polluting the global namespace\r\n    return `(${consoleProxy.toString().trim()})();(function wrapper() {${code}})()`;\r\n  }));\r\n\r\nconst css$ = Rx.Observable.fromEvent(cssEditor, 'change',\r\n  (instance, change) => instance.getValue())\r\n  .do(onCodeChange('css'))\r\n  .startWith('')\r\n  .debounceTime(1000)\r\n  .map(buildTag('style'));\r\n\r\nconst update$ = js$.combineLatest(html$, css$,\r\n  (javascript, html, css) => ({html, javascript, css}));\r\n\r\nexport const runtime$ = update$\r\n  .throttleTime(1000)\r\n  .do(onCodeChange('combined'))\r\n  .map(contents => {\r\n    const {javascript, html, css} = contents;\r\n    let builder = [];\r\n\r\n    try {\r\n      const endOfHead = html.indexOf('</head>');\r\n      const endOfBody = html.indexOf('</body>');\r\n\r\n      const beforeCss = html.substring(0, endOfHead);\r\n      const afterCss = html.substring(endOfHead, endOfBody);\r\n      const afterJs = html.substring(endOfBody);\r\n\r\n      builder.push(beforeCss);\r\n      builder.push(css);\r\n      builder.push(afterCss);\r\n\r\n      builder.push(javascript);\r\n      builder.push(afterJs);\r\n    } catch (e) {\r\n      console.log('Could not render content! ', e);\r\n    }\r\n\r\n    return builder.join('\\n');\r\n  });\r\n","/**\r\n *  RxJS in action\r\n *  Chapter #\r\n *  @author Paul Daniels\r\n *  @author Luis Atencio\r\n */\r\n'use strict';\r\n\r\nimport {runtime$} from './editors';\r\n\r\n// Get the contents of the iframe\r\nconst doc = $('#output').contents();\r\n\r\nruntime$.subscribe(\r\n  content => {\r\n    // Rewrites the contents of the iframe\r\n    // Prevents carry over from previous examples\r\n    doc[0].open();\r\n    doc[0].write(content);\r\n    doc[0].close();\r\n  },\r\n  err => {\r\n    console.warn(\"Something went wrong! Please refresh the page.\", err)\r\n  });\r\n"],"names":["getUrlParams","url","match","pl","decode","s","decodeURIComponent","replace","query","substring","urlParams","search","exec","buildTag","tagName","options","transform","x","source","attrs","k","hasOwnProperty","push","join","defaultHtml","trim","consoleProxy","console","window","log","iframe","parent","document","getElementById","consoleFrame","contentWindow","contentDocument","write","open","content","close","val","previous","body","innerHTML","Rx","Observable","of","flatMap","fromEvent","tag","value","el","target","subscribe","classList","id","toggle","jsEditor","CodeMirror","fromTextArea","htmlEditor","setValue","cssEditor","exampleSelector","location","from","getElementsByTagName","filter","take","selected","startWithIfPresent","key","startWith","e","let","map","split","length","chapter","$","getJSON","js","css","html","onCodeChange","Date","now","html$","doc","instance","change","getValue","do","debounceTime","compile$","js$","combineLatest","code","opts","Babel","warn","type","toString","css$","update$","javascript","runtime$","throttleTime","contents","builder","endOfHead","indexOf","endOfBody","beforeCss","afterCss","afterJs","err"],"mappings":"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","preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjpudWxsLCJzb3VyY2VzIjpbIkM6L1VzZXJzL3BhdWxwXzAwMC9XZWJTdG9ybXMvcnhqcy1pbi1hY3Rpb24vYXBwL2pzL3V0aWxzL3VybC5qcyIsIkM6L1VzZXJzL3BhdWxwXzAwMC9XZWJTdG9ybXMvcnhqcy1pbi1hY3Rpb24vYXBwL2pzL3V0aWxzL3RhZy5qcyIsIkM6L1VzZXJzL3BhdWxwXzAwMC9XZWJTdG9ybXMvcnhqcy1pbi1hY3Rpb24vYXBwL2pzL2luaXRpYWwuanMiLCJDOi9Vc2Vycy9wYXVscF8wMDAvV2ViU3Rvcm1zL3J4anMtaW4tYWN0aW9uL2FwcC9qcy9jb25zb2xlLmpzIiwiQzovVXNlcnMvcGF1bHBfMDAwL1dlYlN0b3Jtcy9yeGpzLWluLWFjdGlvbi9hcHAvanMvZWRpdG9ycy5qcyIsIkM6L1VzZXJzL3BhdWxwXzAwMC9XZWJTdG9ybXMvcnhqcy1pbi1hY3Rpb24vYXBwL2pzL3J1bnRpbWUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqICBSeEpTIGluIGFjdGlvblxyXG4gKiAgQ2hhcHRlciAjXHJcbiAqICBAYXV0aG9yIFBhdWwgRGFuaWVsc1xyXG4gKiAgQGF1dGhvciBMdWlzIEF0ZW5jaW9cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRVcmxQYXJhbXModXJsKSB7XHJcbiAgbGV0IG1hdGNoLFxyXG4gICAgcGwgICAgID0gL1xcKy9nLCAgLy8gUmVnZXggZm9yIHJlcGxhY2luZyBhZGRpdGlvbiBzeW1ib2wgd2l0aCBhIHNwYWNlXHJcbiAgICBzZWFyY2ggPSAvKFteJj1dKyk9PyhbXiZdKikvZyxcclxuICAgIGRlY29kZSA9IGZ1bmN0aW9uIChzKSB7IHJldHVybiBkZWNvZGVVUklDb21wb25lbnQocy5yZXBsYWNlKHBsLCBcIiBcIikpOyB9LFxyXG4gICAgcXVlcnkgID0gdXJsLnN1YnN0cmluZygxKTtcclxuXHJcbiAgY29uc3QgdXJsUGFyYW1zID0ge307XHJcbiAgd2hpbGUgKG1hdGNoID0gc2VhcmNoLmV4ZWMocXVlcnkpKVxyXG4gICAgdXJsUGFyYW1zW2RlY29kZShtYXRjaFsxXSldID0gZGVjb2RlKG1hdGNoWzJdKTtcclxuXHJcbiAgcmV0dXJuIHVybFBhcmFtcztcclxufSIsIi8qKlxyXG4gKiAgUnhKUyBpbiBhY3Rpb25cclxuICogIENoYXB0ZXIgI1xyXG4gKiAgQGF1dGhvciBQYXVsIERhbmllbHNcclxuICogIEBhdXRob3IgTHVpcyBBdGVuY2lvXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gYnVpbGRUYWcodGFnTmFtZSwgb3B0aW9ucywgdHJhbnNmb3JtID0geCA9PiB4KSB7XHJcbiAgcmV0dXJuIChzb3VyY2UpID0+IHtcclxuICAgIGNvbnN0IGF0dHJzID0gW107XHJcbiAgICBmb3IgKGxldCBrIGluIG9wdGlvbnMpIHtcclxuICAgICAgb3B0aW9ucy5oYXNPd25Qcm9wZXJ0eShrKSAmJiBhdHRycy5wdXNoKGAke2t9PSR7b3B0aW9uc1trXX1gKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gYDwke3RhZ05hbWV9ICR7YXR0cnMuam9pbignICcpfT4ke3RyYW5zZm9ybShzb3VyY2UpfTwvJHt0YWdOYW1lfT5gO1xyXG4gIH07XHJcbn0iLCIvKipcclxuICogIFJ4SlMgaW4gYWN0aW9uXHJcbiAqICBDaGFwdGVyICNcclxuICogIEBhdXRob3IgUGF1bCBEYW5pZWxzXHJcbiAqICBAYXV0aG9yIEx1aXMgQXRlbmNpb1xyXG4gKi9cclxuZXhwb3J0IGNvbnN0IGRlZmF1bHRIdG1sID1cclxuICBgXHJcbjwhRE9DVFlQRSBodG1sPlxyXG48aHRtbD5cclxuICA8aGVhZD5cclxuICAgIDxtZXRhIGNoYXJzZXQ9XCJ1dGYtOFwiPlxyXG4gICAgPG1ldGEgbmFtZT1cInZpZXdwb3J0XCIgY29udGVudD1cIndpZHRoPWRldmljZS13aWR0aFwiPlxyXG4gICAgPHRpdGxlPlJ4SlMgaW4gQWN0aW9uPC90aXRsZT5cclxuICA8L2hlYWQ+XHJcbiAgPGJvZHk+PC9ib2R5PlxyXG48L2h0bWw+XHJcbmAudHJpbSgpOyIsIi8qKlxyXG4gKiAgUnhKUyBpbiBhY3Rpb25cclxuICogIENoYXB0ZXIgI1xyXG4gKiAgQGF1dGhvciBQYXVsIERhbmllbHNcclxuICogIEBhdXRob3IgTHVpcyBBdGVuY2lvXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gY29uc29sZVByb3h5KGNvbnNvbGUgPSB3aW5kb3cuY29uc29sZSkge1xyXG4gIGlmKGNvbnNvbGUgJiYgY29uc29sZS5sb2cpIHtcclxuICAgIC8vU2V0IHVwIGlmcmFtZSBmb3IgcmVkaXJlY3Rpb25cclxuICAgIGxldCBpZnJhbWUgPSBwYXJlbnQuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbnNvbGUnKTtcclxuICAgIGxldCBjb25zb2xlRnJhbWUgPSBpZnJhbWUuY29udGVudFdpbmRvdyB8fCBpZnJhbWUuY29udGVudERvY3VtZW50O1xyXG4gICAgaWYgKGNvbnNvbGVGcmFtZS5kb2N1bWVudCkgY29uc29sZUZyYW1lID0gY29uc29sZUZyYW1lLmRvY3VtZW50O1xyXG4gICAgbGV0IHdyaXRlID0gKGZyYW1lID0+IHtcclxuICAgICAgcmV0dXJuIGNvbnRlbnQgPT4ge1xyXG4gICAgICAgIGZyYW1lLm9wZW4oKTtcclxuICAgICAgICBmcmFtZS53cml0ZShjb250ZW50KTtcclxuICAgICAgICBmcmFtZS5jbG9zZSgpO1xyXG4gICAgICB9O1xyXG4gICAgfSkoY29uc29sZUZyYW1lKTtcclxuICAgIHdyaXRlKCcnKTsgLy8gY2xlYXIgY29udGVudHMgb24gY2hhbmdlXHJcblxyXG4gICAgd2luZG93LmNvbnNvbGUgPSB7XHJcbiAgICAgIGxvZzogKHZhbCkgPT4ge1xyXG4gICAgICAgIGxldCBwcmV2aW91cyA9IGNvbnNvbGVGcmFtZS5ib2R5LmlubmVySFRNTCB8fCAnJztcclxuICAgICAgICB3cml0ZShwcmV2aW91cy50cmltKCkgKyBcIjxiciAvPlwiICsgdmFsKTtcclxuICAgICAgfSxcclxuICAgICAgd2FybjogKHZhbCkgPT4ge1xyXG4gICAgICAgIGxldCBwcmV2aW91cyA9IGNvbnNvbGVGcmFtZS5ib2R5LmlubmVySFRNTCB8fCAnJztcclxuICAgICAgICB3cml0ZShwcmV2aW91cy50cmltKCkgKyBcIjxiciAvPlwiICsgdmFsKTtcclxuICAgICAgfSxcclxuICAgICAgZXJyb3I6ICh2YWwpID0+IHtcclxuICAgICAgICBsZXQgcHJldmlvdXMgPSBjb25zb2xlRnJhbWUuYm9keS5pbm5lckhUTUwgfHwgJyc7XHJcbiAgICAgICAgd3JpdGUocHJldmlvdXMudHJpbSgpICsgXCI8YnIgLz5cIiArIHZhbCk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgfVxyXG59IiwiLyoqXHJcbiAqICBSeEpTIGluIGFjdGlvblxyXG4gKiAgQ2hhcHRlciAjXHJcbiAqICBAYXV0aG9yIFBhdWwgRGFuaWVsc1xyXG4gKiAgQGF1dGhvciBMdWlzIEF0ZW5jaW9cclxuICovXHJcbid1c2Ugc3RyaWN0JztcclxuXHJcbmltcG9ydCB7Z2V0VXJsUGFyYW1zfSBmcm9tICcuL3V0aWxzL3VybCc7XHJcbmltcG9ydCB7YnVpbGRUYWd9IGZyb20gXCIuL3V0aWxzL3RhZ1wiO1xyXG5pbXBvcnQge2RlZmF1bHRIdG1sfSBmcm9tIFwiLi9pbml0aWFsXCI7XHJcbmltcG9ydCB7Y29uc29sZVByb3h5fSBmcm9tIFwiLi9jb25zb2xlXCI7XHJcblxyXG5SeC5PYnNlcnZhYmxlLm9mKCdjc3MnLCAnaHRtbCcsICdqYXZhc2NyaXB0JylcclxuICAuZmxhdE1hcChcclxuICAgIHRhZyA9PiBSeC5PYnNlcnZhYmxlLmZyb21FdmVudChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2hvdy0nICsgdGFnKSwgJ2NsaWNrJyksXHJcbiAgICAodGFnLCB2YWx1ZSkgPT4gKHt0YWcsIGVsOiB2YWx1ZS50YXJnZXR9KSlcclxuICAuc3Vic2NyaWJlKCh7ZWwsIHRhZ30pID0+IHtcclxuICAgIGNvbnN0IHtjbGFzc0xpc3QsIGlkfSA9IGVsO1xyXG5cclxuICAgIGNsYXNzTGlzdC50b2dnbGUoJ2J0bi1wcmltYXJ5Jyk7XHJcbiAgICBjbGFzc0xpc3QudG9nZ2xlKCdidG4tZGVmYXVsdCcpO1xyXG4gICAgY2xhc3NMaXN0LnRvZ2dsZSgnYWN0aXZlJyk7XHJcblxyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGFnICsgJy1jb250YWluZXInKS5jbGFzc0xpc3QudG9nZ2xlKCdoaWRkZW4nKTtcclxuICB9KTtcclxuXHJcbi8vIEJ1aWxkcyBhIG5ldyBjb2RlIGVkaXRvciBvbiB0aGUgcGFnZVxyXG5jb25zdCBqc0VkaXRvciA9IENvZGVNaXJyb3IuZnJvbVRleHRBcmVhKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdqYXZhc2NyaXB0JyksIHtcclxuICBtb2RlOiBcImphdmFzY3JpcHRcIixcclxuICB0aGVtZTogJ2RyYWN1bGEnLFxyXG4gIGxpbmVOdW1iZXJzOiB0cnVlLFxyXG4gIHJlYWRPbmx5OiBmYWxzZSxcclxuICB2YWx1ZTogJ1Rlc3QnXHJcbn0pO1xyXG5cclxuY29uc3QgaHRtbEVkaXRvciA9IENvZGVNaXJyb3IuZnJvbVRleHRBcmVhKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdodG1sJyksIHtcclxuICBtb2RlOiAnaHRtbG1peGVkJyxcclxuICB0aGVtZTogJ2RyYWN1bGEnLFxyXG4gIGxpbmVOdW1iZXJzOiB0cnVlLFxyXG59KTtcclxuXHJcbmh0bWxFZGl0b3Iuc2V0VmFsdWUoZGVmYXVsdEh0bWwpO1xyXG5cclxuY29uc3QgY3NzRWRpdG9yID0gQ29kZU1pcnJvci5mcm9tVGV4dEFyZWEoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NzcycpLCB7XHJcbiAgbW9kZTogJ2NzcycsXHJcbiAgdGhlbWU6ICdkcmFjdWxhJyxcclxuICBsaW5lTnVtYmVyczogdHJ1ZVxyXG59KTtcclxuXHJcbmNvbnN0IGV4YW1wbGVTZWxlY3RvciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdleGFtcGxlLWNoYW5nZScpO1xyXG5cclxuY29uc3QgdXJsUGFyYW1zID0gZ2V0VXJsUGFyYW1zKHdpbmRvdy5sb2NhdGlvbi5zZWFyY2gpO1xyXG5cclxuUnguT2JzZXJ2YWJsZS5mcm9tKGV4YW1wbGVTZWxlY3Rvci5nZXRFbGVtZW50c0J5VGFnTmFtZSgnb3B0aW9uJykpXHJcbiAgLmZpbHRlcigoe3ZhbHVlfSkgPT4gdmFsdWUgPT09IHVybFBhcmFtc1snZXhhbXBsZSddKVxyXG4gIC50YWtlKDEpXHJcbiAgLnN1YnNjcmliZSh4ID0+IHguc2VsZWN0ZWQgPSAnc2VsZWN0ZWQnKTtcclxuXHJcbmNvbnN0IHN0YXJ0V2l0aElmUHJlc2VudCA9ICh1cmwsIGtleSkgPT4gc291cmNlID0+XHJcbiAgdXJsW2tleV0gPyBzb3VyY2Uuc3RhcnRXaXRoKHVybFtrZXldKSA6IHNvdXJjZTtcclxuXHJcblJ4Lk9ic2VydmFibGUuZnJvbUV2ZW50KFxyXG4gIGV4YW1wbGVTZWxlY3RvcixcclxuICAnY2hhbmdlJyxcclxuICAoZSkgPT4gZS50YXJnZXQudmFsdWVcclxuKVxyXG4gIC5sZXQoc3RhcnRXaXRoSWZQcmVzZW50KHVybFBhcmFtcywgJ2V4YW1wbGUnKSlcclxuICAubWFwKChlKSA9PiBlLnNwbGl0KCcuJykpIC8vIFNwbGl0IHRoZSBjaGFwdGVyIGFuZCBpZFxyXG4gIC5maWx0ZXIodmFsdWUgPT4gdmFsdWUubGVuZ3RoID09PSAyKSAvLyBTYW5pdHkgY2hlY2tcclxuICAuZmxhdE1hcCgoW2NoYXB0ZXIsIGlkXSkgPT4ge1xyXG4gICAgcmV0dXJuICQuZ2V0SlNPTihgL3Jlc3QvYXBpL2V4YW1wbGUvJHtjaGFwdGVyfS8ke2lkfWApO1xyXG4gIH0pXHJcbiAgLnN1YnNjcmliZSgoe2pzLCBjc3MsIGh0bWx9KSA9PiB7XHJcbiAgICBqcyAmJiBqc0VkaXRvci5zZXRWYWx1ZShqcyk7XHJcbiAgICBjc3MgJiYgY3NzRWRpdG9yLnNldFZhbHVlKGNzcyk7XHJcbiAgICBodG1sICYmIGh0bWxFZGl0b3Iuc2V0VmFsdWUoaHRtbCk7XHJcbiAgfSk7XHJcblxyXG5jb25zdCBvbkNvZGVDaGFuZ2UgPSAodGFnKSA9PiAoKSA9PiB7XHJcbiAgY29uc29sZS5sb2codGFnLCAnW1VQREFURV06IENPREUgQ0hBTkdFJywgRGF0ZS5ub3coKSk7XHJcbn07XHJcblxyXG5jb25zdCBodG1sJCA9IFJ4Lk9ic2VydmFibGUuZnJvbUV2ZW50KGh0bWxFZGl0b3IuZG9jLCAnY2hhbmdlJyxcclxuICAoaW5zdGFuY2UsIGNoYW5nZSkgPT4gaW5zdGFuY2UuZ2V0VmFsdWUoKSlcclxuICAuZG8ob25Db2RlQ2hhbmdlKCdodG1sJykpXHJcbiAgLnN0YXJ0V2l0aChkZWZhdWx0SHRtbClcclxuICAuZGVib3VuY2VUaW1lKDEwMDApO1xyXG5cclxuLy8gQmFiZWwgY29tcGlsZXIgb3B0aW9uc1xyXG5jb25zdCBjb21waWxlJCA9IFJ4Lk9ic2VydmFibGUub2Yoe1xyXG4gIHByZXNldHM6IFsnZXMyMDE1J10sXHJcbiAgLy8gVE9ETyBDb21waWxlIHRoaXMgc2VwYXJhdGVseSBhbmQgbG9hZCBpbmRlcGVuZGVudGx5XHJcbiAgcGx1Z2luczogW1xyXG4gICAgW1widHJhbnNmb3JtLW9iamVjdC1yZXN0LXNwcmVhZFwiLCB7XCJ1c2VCdWlsdEluc1wiOiB0cnVlfV1cclxuICBdXHJcbn0pO1xyXG5cclxuY29uc3QganMkID0gUnguT2JzZXJ2YWJsZS5mcm9tRXZlbnQoanNFZGl0b3IsICdjaGFuZ2UnLFxyXG4gIChpbnN0YW5jZSwgY2hhbmdlKSA9PiBpbnN0YW5jZS5nZXRWYWx1ZSgpKVxyXG4gIC5kbyhvbkNvZGVDaGFuZ2UoJ2pzJykpXHJcbiAgLnN0YXJ0V2l0aCgnY29uc29sZS5sb2coXCJXZWxjb21lIHRvIFJ4SlMgaW4gQWN0aW9uIENvZGUhXCIpJylcclxuICAuZGVib3VuY2VUaW1lKDEwMDApXHJcbiAgLmRvKCgpID0+IGNvbnNvbGUubG9nKCdDb21waWxpbmcuLi4nKSlcclxuICAuY29tYmluZUxhdGVzdChjb21waWxlJCwgKGNvZGUsIG9wdHMpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIHJldHVybiBCYWJlbC50cmFuc2Zvcm0oY29kZSwgb3B0cykuY29kZVxyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICBjb25zb2xlLndhcm4oJ1Byb2JsZW0gY29tcGlsaW5nIHRoZSBjb2RlJywgZSk7XHJcbiAgICAgIC8vRklYTUUgUHJvYmFibHkgc2hvdWxkIG5vdCBiZSByZXR1cm5pbmcgY29kZSB0aGF0IGJhYmVsIGRvZXNuJ3QgZXZlbiBrbm93IGhvdyB0byBjb21waWxlXHJcbiAgICAgIHJldHVybiBjb2RlO1xyXG4gICAgfVxyXG4gIH0pXHJcbiAgLm1hcChidWlsZFRhZygnc2NyaXB0Jywge3R5cGU6ICdhcHBsaWNhdGlvbi9qYXZhc2NyaXB0J30sIGZ1bmN0aW9uIChjb2RlKSB7XHJcbiAgICAvL05haXZlIHdheSBvZiBwcmV2ZW50aW5nIHRoaXMgZnJvbSBwb2xsdXRpbmcgdGhlIGdsb2JhbCBuYW1lc3BhY2VcclxuICAgIHJldHVybiBgKCR7Y29uc29sZVByb3h5LnRvU3RyaW5nKCkudHJpbSgpfSkoKTsoZnVuY3Rpb24gd3JhcHBlcigpIHske2NvZGV9fSkoKWA7XHJcbiAgfSkpO1xyXG5cclxuY29uc3QgY3NzJCA9IFJ4Lk9ic2VydmFibGUuZnJvbUV2ZW50KGNzc0VkaXRvciwgJ2NoYW5nZScsXHJcbiAgKGluc3RhbmNlLCBjaGFuZ2UpID0+IGluc3RhbmNlLmdldFZhbHVlKCkpXHJcbiAgLmRvKG9uQ29kZUNoYW5nZSgnY3NzJykpXHJcbiAgLnN0YXJ0V2l0aCgnJylcclxuICAuZGVib3VuY2VUaW1lKDEwMDApXHJcbiAgLm1hcChidWlsZFRhZygnc3R5bGUnKSk7XHJcblxyXG5jb25zdCB1cGRhdGUkID0ganMkLmNvbWJpbmVMYXRlc3QoaHRtbCQsIGNzcyQsXHJcbiAgKGphdmFzY3JpcHQsIGh0bWwsIGNzcykgPT4gKHtodG1sLCBqYXZhc2NyaXB0LCBjc3N9KSk7XHJcblxyXG5leHBvcnQgY29uc3QgcnVudGltZSQgPSB1cGRhdGUkXHJcbiAgLnRocm90dGxlVGltZSgxMDAwKVxyXG4gIC5kbyhvbkNvZGVDaGFuZ2UoJ2NvbWJpbmVkJykpXHJcbiAgLm1hcChjb250ZW50cyA9PiB7XHJcbiAgICBjb25zdCB7amF2YXNjcmlwdCwgaHRtbCwgY3NzfSA9IGNvbnRlbnRzO1xyXG4gICAgbGV0IGJ1aWxkZXIgPSBbXTtcclxuXHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCBlbmRPZkhlYWQgPSBodG1sLmluZGV4T2YoJzwvaGVhZD4nKTtcclxuICAgICAgY29uc3QgZW5kT2ZCb2R5ID0gaHRtbC5pbmRleE9mKCc8L2JvZHk+Jyk7XHJcblxyXG4gICAgICBjb25zdCBiZWZvcmVDc3MgPSBodG1sLnN1YnN0cmluZygwLCBlbmRPZkhlYWQpO1xyXG4gICAgICBjb25zdCBhZnRlckNzcyA9IGh0bWwuc3Vic3RyaW5nKGVuZE9mSGVhZCwgZW5kT2ZCb2R5KTtcclxuICAgICAgY29uc3QgYWZ0ZXJKcyA9IGh0bWwuc3Vic3RyaW5nKGVuZE9mQm9keSk7XHJcblxyXG4gICAgICBidWlsZGVyLnB1c2goYmVmb3JlQ3NzKTtcclxuICAgICAgYnVpbGRlci5wdXNoKGNzcyk7XHJcbiAgICAgIGJ1aWxkZXIucHVzaChhZnRlckNzcyk7XHJcblxyXG4gICAgICBidWlsZGVyLnB1c2goamF2YXNjcmlwdCk7XHJcbiAgICAgIGJ1aWxkZXIucHVzaChhZnRlckpzKTtcclxuICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgY29uc29sZS5sb2coJ0NvdWxkIG5vdCByZW5kZXIgY29udGVudCEgJywgZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGJ1aWxkZXIuam9pbignXFxuJyk7XHJcbiAgfSk7XHJcbiIsIi8qKlxyXG4gKiAgUnhKUyBpbiBhY3Rpb25cclxuICogIENoYXB0ZXIgI1xyXG4gKiAgQGF1dGhvciBQYXVsIERhbmllbHNcclxuICogIEBhdXRob3IgTHVpcyBBdGVuY2lvXHJcbiAqL1xyXG4ndXNlIHN0cmljdCc7XHJcblxyXG5pbXBvcnQge3J1bnRpbWUkfSBmcm9tICcuL2VkaXRvcnMnO1xyXG5cclxuLy8gR2V0IHRoZSBjb250ZW50cyBvZiB0aGUgaWZyYW1lXHJcbmNvbnN0IGRvYyA9ICQoJyNvdXRwdXQnKS5jb250ZW50cygpO1xyXG5cclxucnVudGltZSQuc3Vic2NyaWJlKFxyXG4gIGNvbnRlbnQgPT4ge1xyXG4gICAgLy8gUmV3cml0ZXMgdGhlIGNvbnRlbnRzIG9mIHRoZSBpZnJhbWVcclxuICAgIC8vIFByZXZlbnRzIGNhcnJ5IG92ZXIgZnJvbSBwcmV2aW91cyBleGFtcGxlc1xyXG4gICAgZG9jWzBdLm9wZW4oKTtcclxuICAgIGRvY1swXS53cml0ZShjb250ZW50KTtcclxuICAgIGRvY1swXS5jbG9zZSgpO1xyXG4gIH0sXHJcbiAgZXJyID0+IHtcclxuICAgIGNvbnNvbGUud2FybihcIlNvbWV0aGluZyB3ZW50IHdyb25nISBQbGVhc2UgcmVmcmVzaCB0aGUgcGFnZS5cIiwgZXJyKVxyXG4gIH0pO1xyXG4iXSwibmFtZXMiOlsiZ2V0VXJsUGFyYW1zIiwidXJsIiwibWF0Y2giLCJwbCIsImRlY29kZSIsInMiLCJkZWNvZGVVUklDb21wb25lbnQiLCJyZXBsYWNlIiwicXVlcnkiLCJzdWJzdHJpbmciLCJ1cmxQYXJhbXMiLCJzZWFyY2giLCJleGVjIiwiYnVpbGRUYWciLCJ0YWdOYW1lIiwib3B0aW9ucyIsInRyYW5zZm9ybSIsIngiLCJzb3VyY2UiLCJhdHRycyIsImsiLCJoYXNPd25Qcm9wZXJ0eSIsInB1c2giLCJqb2luIiwiZGVmYXVsdEh0bWwiLCJ0cmltIiwiY29uc29sZVByb3h5IiwiY29uc29sZSIsIndpbmRvdyIsImxvZyIsImlmcmFtZSIsInBhcmVudCIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJjb25zb2xlRnJhbWUiLCJjb250ZW50V2luZG93IiwiY29udGVudERvY3VtZW50Iiwid3JpdGUiLCJvcGVuIiwiY29udGVudCIsImNsb3NlIiwidmFsIiwicHJldmlvdXMiLCJib2R5IiwiaW5uZXJIVE1MIiwiUngiLCJPYnNlcnZhYmxlIiwib2YiLCJmbGF0TWFwIiwiZnJvbUV2ZW50IiwidGFnIiwidmFsdWUiLCJlbCIsInRhcmdldCIsInN1YnNjcmliZSIsImNsYXNzTGlzdCIsImlkIiwidG9nZ2xlIiwianNFZGl0b3IiLCJDb2RlTWlycm9yIiwiZnJvbVRleHRBcmVhIiwiaHRtbEVkaXRvciIsInNldFZhbHVlIiwiY3NzRWRpdG9yIiwiZXhhbXBsZVNlbGVjdG9yIiwibG9jYXRpb24iLCJmcm9tIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJmaWx0ZXIiLCJ0YWtlIiwic2VsZWN0ZWQiLCJzdGFydFdpdGhJZlByZXNlbnQiLCJrZXkiLCJzdGFydFdpdGgiLCJlIiwibGV0IiwibWFwIiwic3BsaXQiLCJsZW5ndGgiLCJjaGFwdGVyIiwiJCIsImdldEpTT04iLCJqcyIsImNzcyIsImh0bWwiLCJvbkNvZGVDaGFuZ2UiLCJEYXRlIiwibm93IiwiaHRtbCQiLCJkb2MiLCJpbnN0YW5jZSIsImNoYW5nZSIsImdldFZhbHVlIiwiZG8iLCJkZWJvdW5jZVRpbWUiLCJjb21waWxlJCIsImpzJCIsImNvbWJpbmVMYXRlc3QiLCJjb2RlIiwib3B0cyIsIkJhYmVsIiwid2FybiIsInR5cGUiLCJ0b1N0cmluZyIsImNzcyQiLCJ1cGRhdGUkIiwiamF2YXNjcmlwdCIsInJ1bnRpbWUkIiwidGhyb3R0bGVUaW1lIiwiY29udGVudHMiLCJidWlsZGVyIiwiZW5kT2ZIZWFkIiwiaW5kZXhPZiIsImVuZE9mQm9keSIsImJlZm9yZUNzcyIsImFmdGVyQ3NzIiwiYWZ0ZXJKcyIsImVyciJdLCJtYXBwaW5ncyI6Ijs7O0FBQUE7Ozs7OztBQU1BLEFBQU8sU0FBU0EsWUFBVCxDQUFzQkMsR0FBdEIsRUFBMkI7TUFDNUJDLGNBQUo7TUFDRUMsS0FBUyxLQURYOztXQUVXLG9CQUZYO01BR0VDLFNBQVMsU0FBVEEsTUFBUyxDQUFVQyxDQUFWLEVBQWE7V0FBU0MsbUJBQW1CRCxFQUFFRSxPQUFGLENBQVVKLEVBQVYsRUFBYyxHQUFkLENBQW5CLENBQVA7R0FIMUI7TUFJ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"}